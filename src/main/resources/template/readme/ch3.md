# 테스트 주도 개발의 패턴
- - -
## 테스트 주도 개발 패턴

1. 테스트 한다는건 무엇을 뜻하는지?
2. 언제 테스트를 해야 하는지?
3. 테스트할 로직을 어떻게 고를지?
4. 테스트할 데이터를 어떻게 고를지?

### 테스트란?   
```테스트할 시간이 어딨어. 그냥 릴리즈해``` 이 장면에 대해서는 결과를 보장할 수 없다. 스트레스를 점점 많이 받으면 결국 실패하게 된다.
    - 스트레스를 받으면 테스트를 실행한다. 테스트를 실행하면 스트레스를 받는다.
        - 이 부분의 경우 자동화된 테스트가 존재하다면 두려운 정도를 선택할 수 있다. (스트레스 또한 줄일 수 있게 된다.)

### 격리된 테스트
```매일 아침 출근하면 지난밤 테스트 결과를 담은 종이더미가 놓여 있었다.``` 이 경험에서 두 가지의 교훈을 얻을 수 있었다.
1. 테스트가 충분히 빨라서 내가 직접, 자주 실행할 수 있게끔 만들자.
   - 내가 만든 에러를 누구보다 빠르게 잡을 수 있음.
2. 많은 양의 실패 테스트가 반드 시 양의 문제가 아닐 수 도있다.
   - 앞 부분에서 실행된 테스트가 실패한 후 그 영향으로 다음 테스트부터는 시스템이 예측 불가능한 상태에 놓이는 경우가 허다하다.
      - 그렇기에 테스트는 작은 스케일로 진행하며, 각각의 테스트와 완전히 독립적이어야 한다.

### 테스트 목록
해야하는 목록이 많아질 수록 내가 하던 일에 대한 집중력이 떨어진다. 집중력이 떨어지면 할일이 많아진다.
 - 머릿속에 있는 목록에서 임의의 항목을 무시하고 변덕스럽게 프로그래밍을 할 경우 이 악순환에서 벗어날 수 없게 된다.

### 테스트 우선
테스트는 대상이 되는 코드를 작성하기 직전에 작성하는 것이 좋다. ```스트레스 - 테스트``` 에서도 테스트가 먼저가 된다면 스트레스가 줄어 테스트도 줄게된다.

### 단언 우선
테스트를 작성할 때 단언은 가장 먼저 사용해라.
단언을 먼저 사용할 경우 작업을 단순하게 만드는 강력한 효과를 볼 수 있다. 구현에 대해 전혀 고려하지 않고 테스트만 작성할 때도 몇 가지 문제들을 한번에 해결하는 것이다.
1. 시스템을 개발할 때 무슨 일부터 하는가? 완료된 시스템은 이럴 것 이다! 라는 이야기 부터 작성한다.
2. 특정 기는을 개발할 때 무슨 일부터 하는가? 기능이 완료되면 통과할 수 있는 테스트 부터 작성한다.
3. 테스트를 개발할 때 무슨 일부터 하는가? 완료될 때 통과해야 할 단 언부터 작성한다.

### 테스트 데이터
1. 테스트를 읽을 때 쉽고 따라갈 수 있을만한 좋은 데이터를 사용해라 테스트 작성에도 청중이 존재한다.
2. 단지 데이터 값을 산발하기 위해 데이터 값을 산발하지 마라.
3. 데이터 간에 차이가 있다면 그 속에 어떤 의미가 있어야한다.
4. 만약 1과 2사이에 어떠한 개념적 차이도 없다면 1을 사용해라.
5. 여러 입력을 다루어야 한다면 테스트 또한 여러 입력을 반영해라.
6. 테스트 데이터에 대한 대안은 실제 세상에서 얻어진 실제 데이터를 사용하는 것이다.
   - 실제 실행을 통해 수집한 외부 이벤트의 결과를 이용하여 실시간 시스템을 테스트하고자 하는 경우.
   - 예전 시스템으 ㅣ출력과 현재 시스템의 출력을 비교하는 경우(병렬)
   - 시뮬레이션 시스템을 리팩토링한 후 기존과 정확히 동일한 결과가 나오는지 확인하고자 하는 경우

### 명백한 데이터
테스트를 작성할 때는 컴퓨터뿐 아니라 후에 코드를 읽을 다른 사람들도 생각해야 한다.
    - 추후 자신의 코드를 보며 무슨 생각으로 이 코드를 짯는지 의문이 들 수 있다.

## 빨간 막대 패턴


